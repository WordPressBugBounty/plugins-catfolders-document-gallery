(()=>{"use strict";var e={419:(e,t,l)=>{l.d(t,{A:()=>a}),l(609);const a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDkiIGhlaWdodD0iMzgiIHZpZXdCb3g9IjAgMCA0OSAzOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ0LjI0NTkgNC4yNjU1NEgyMi44MjY3QzIxLjcxMjEgNC4yNjU1NCAyMC42NDYgMy43ODYyNyAxOS45MTkxIDIuOTcxNUwxOC42MTA3IDEuNTMzNjhDMTcuNzM4NSAwLjUyNzIwMiAxNi40MyAwIDE1LjEyMTYgMEg1LjYyMzU2QzMuMDA2NzQgMCAwLjkyMjk3NCAyLjA2MDg4IDAuOTIyOTc0IDQuNjQ4OTZWMzIuMzk5QzAuOTIyOTc0IDM0LjkzOTEgMy4wMDY3NCAzNy4wNDc5IDUuNjIzNTYgMzcuMDQ3OUg0NC4yNDU5QzQ2LjgxNDIgMzcuMDQ3OSA0OC45NDY0IDM0Ljk4NyA0OC45NDY0IDMyLjM5OVY4LjkxNDUxQzQ4Ljk0NjQgNi4zNzQzNSA0Ni44NjI3IDQuMjY1NTQgNDQuMjQ1OSA0LjI2NTU0Wk00NC42ODIgMzIuNzgyNEg1LjE4NzQyVjguNDgzMTZINDQuNjMzNVYzMi44MzAzTDQ0LjY4MiAzMi43ODI0WiIgZmlsbD0iIzIyNzFCMSIvPgo8L3N2Zz4K"},63:(e,t,l)=>{var a=l(609),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useState,o=a.useEffect,c=a.useLayoutEffect,s=a.useDebugValue;function i(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!n(e,l)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var l=t(),a=r({inst:{value:l,getSnapshot:t}}),n=a[0].inst,d=a[1];return c((function(){n.value=l,n.getSnapshot=t,i(n)&&d({inst:n})}),[e,l,t]),o((function(){return i(n)&&d({inst:n}),e((function(){i(n)&&d({inst:n})}))}),[e]),s(l),l};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},940:(e,t,l)=>{var a=l(609),n=l(888),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,c=a.useRef,s=a.useEffect,i=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,l,a,n){var u=c(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=i((function(){function e(e){if(!s){if(s=!0,o=e,e=a(e),void 0!==n&&f.hasValue){var t=f.value;if(n(t,e))return c=t}return c=e}if(t=c,r(o,e))return t;var l=a(e);return void 0!==n&&n(t,l)?t:(o=e,c=l)}var o,c,s=!1,i=void 0===l?null:l;return[function(){return e(t())},null===i?void 0:function(){return e(i())}]}),[t,l,a,n]);var m=o(e,u[0],u[1]);return s((function(){f.hasValue=!0,f.value=m}),[m]),d(m),m}},888:(e,t,l)=>{e.exports=l(63)},242:(e,t,l)=>{e.exports=l(940)},609:e=>{e.exports=window.React}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a=l(609);const n=window.wp.i18n,r=function(){return(0,a.createElement)("div",{className:"block-spinner-wrap"},(0,a.createElement)("span",{className:"spinner is-active"}))},o=window.wp.element,c=window.wp.components,s=(0,a.createContext)(null);function i(){const e=(0,a.useContext)(s);if(null===e)throw Error("You need to use this hook inside a Provider!");return e}const d=(0,o.memo)((function({treeOptions:e}){const{attributes:t,setAttribute:l}=i(),{folders:r,libraryType:o}=t;return(0,a.createElement)("div",{className:"catf-dg-folders-setting"},e.length>0?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.SelectControl,{className:"catf-dg-select-wrapper",value:r,options:e,multiple:!0,onChange:e=>{"hierarchical_folders"==o&&e.length>1?l({folders:[e[0]]}):l({folders:e})},style:{height:200,overflow:"auto"}}),(0,a.createElement)("input",{type:"text",value:JSON.stringify(r),name:"folders",readOnly:!0,hidden:!0})):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,n.__)("Oops, you don't have any folder","catfolders-document-gallery")),(0,a.createElement)(c.Button,{href:`${window.catfData.adminUrl}upload.php`,variant:"primary",target:"_blank",className:"catf-dg-create-folder-btn"},(0,n.__)("Create your first folder","catfolders-document-gallery"))))})),u=((0,n.__)("Thumbnail","catfolders-document-gallery"),(0,n.__)("Medium","catfolders-document-gallery"),(0,n.__)("Large","catfolders-document-gallery"),(0,n.__)("Full Size","catfolders-document-gallery"),[{value:"list",label:(0,n.__)("List","catfolders-document-gallery")},{value:"grid",label:(0,n.__)("Grid","catfolders-document-gallery")}]),f=[{value:"title",label:(0,n.__)("Title","catfolders-document-gallery")},{value:"updated",label:(0,n.__)("Modified","catfolders-document-gallery")},{value:"size",label:(0,n.__)("Size","catfolders-document-gallery")},{value:"counter",label:(0,n.__)("Counter","catfolders-document-gallery")}],m=[{value:"ASC",label:(0,n.__)("Ascending","catfolders-document-gallery")},{value:"DESC",label:(0,n.__)("Descending","catfolders-document-gallery")}],p=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"}],g=[{value:"image",label:(0,n.__)("Image","catfolders-document-gallery")},{value:"title",label:(0,n.__)("Title","catfolders-document-gallery")},{value:"type",label:(0,n.__)("Type","catfolders-document-gallery")},{value:"size",label:(0,n.__)("Size","catfolders-document-gallery")},{value:"updated",label:(0,n.__)("Updated","catfolders-document-gallery")},{value:"counter",label:(0,n.__)("Counter","catfolders-document-gallery")},{value:"link",label:(0,n.__)("Link","catfolders-document-gallery")}],y=[{value:"preview",label:(0,n.__)("Preview File","catfolders-document-gallery")},{value:"popup",label:(0,n.__)("Popup Window","catfolders-document-gallery")},{value:"download",label:(0,n.__)("Download File","catfolders-document-gallery")},{value:"",label:(0,n.__)("None","catfolders-document-gallery")}],_=[{value:"p",label:(0,n.__)("Paragraph","catfolders-document-gallery")},{value:"h1",label:(0,n.__)("Heading 1","catfolders-document-gallery")},{value:"h2",label:(0,n.__)("Heading 2","catfolders-document-gallery")},{value:"h3",label:(0,n.__)("Heading 3","catfolders-document-gallery")},{value:"h4",label:(0,n.__)("Heading 4","catfolders-document-gallery")}],h=((0,n.__)("Display as a single folder","catfolders-document-gallery"),(0,n.__)("Display as hierarchical folders","catfolders-document-gallery"),[{value:"top",label:(0,n.__)("Top","catfolders-document-gallery")},{value:"bottom",label:(0,n.__)("Bottom","catfolders-document-gallery")},{value:"both",label:(0,n.__)("Both","catfolders-document-gallery")},{value:"",label:(0,n.__)("Hide","catfolders-document-gallery")}]),b=(e,t)=>{const{limit:l}=e,a=t?Object.values(t):[],r=(t=>{let l;const a=t=>t.findIndex((t=>t.key===e.orderBy));return l=t.some((e=>"image"===e.key))?a(t):a(t)+1,l})(a),o=(e,t=[],l)=>{const a=[];return e.forEach(((e,n)=>{"exclude"===l?!t.includes(e.key)&&a.push(n):t.includes(e.key)&&a.push(n)})),a},c=[];return a.forEach(((e,t)=>{-1!==["image","link"].indexOf(e.key)&&c.push(t)})),{order:-1===r?[]:[r,e.orderType.toLowerCase()],columnDefs:[{type:"natural-nohtml",target:o(a,["size","updated"],"exclude")},{type:"file-size",targets:o(a,["size"],"include")},{orderable:!1,target:0!==c.length?c:[]},{searchable:!1,target:o(a,["link","image"],"include")},{type:"date-sort",targets:o(a,["updated"],"include")}],lengthMenu:[[l,2*l,4*l,8*l,-1],[l,2*l,4*l,8*l,(0,n.__)("All","catfolders-document-gallery")]],language:{searchPlaceholder:(0,n.__)("Search by title…","catfolders-document-gallery"),search:(0,n.__)("Search:","catfolders-document-gallery"),lengthMenu:`<span>${(0,n.__)("Items per page","catfolders-document-gallery")}</span> _MENU_`,info:"_START_ - _END_ "+(0,n.__)("of","catfolders-document-gallery")+" _TOTAL_",paginate:{next:'<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1.5L6 7L1 12.5" stroke="currentColor" stroke-width="1.5"/></svg>',previous:'<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 1.5L2 7L7 12.5" stroke="currentColor" stroke-width="1.5"/></svg>'},aria:{sortAscending:(0,n.__)(": activate to sort column ascending","catfolders-document-gallery"),sortDescending:(0,n.__)(": activate to sort column descending","catfolders-document-gallery")}},pageLength:+l,autoWidth:!1,responsive:!0,sDom:v(e),drawCallback(t){const l=this.api().page.info().recordsTotal,a=jQuery(t.nTableWrapper).closest("#cf-app");!function(e,t,l=0){l<e.limit&&t.find(".cf-pagination").css("display","none"),e.libraryIcon.display?t.find(".cf-title img").css("display","block"):t.find(".cf-title img").css("display","none"),e.displayTitle?t.find(".cf-title span").css("display","block"):t.find(".cf-title span").css("display","none"),t.find(".cf-table__top").is(":empty")&&t.find(".cf-table__top").css("display","none"),t.find(".cf-table__bottom").is(":empty")&&t.find(".cf-table__bottom").css("display","none"),e.documentIcons.display?t.find(".cf-icon").removeClass("cf-hidden"):t.find(".cf-icon").addClass("cf-hidden"),e.displayColumns.image&&(t.find("th:first-child").addClass("cf-thumbnail-th"),t.find(".cf-table").addClass("cf-has-thumbnail"))}(e,a,l),T(a,e.displayColumns),S(t)}}},v=e=>{const t=e.searchBarPlacement,l=e.paginationPlacement,a=e.layoutIconPlacement;return'<"cf-table__top"'+("top"===t||"both"===t?"f":"")+("top"===a||"both"===a?' <"cf-options_info"l <"cf-options" <"cf-options__list"><"cf-options__grid">>>':"")+("top"===l||"both"===l?'<"cf-pagination" lip>':"")+'><"cf-table__main"rt><"cf-table__bottom"'+("bottom"===t||"both"===t?"f":"")+("bottom"===a||"both"===a?'<"cf-options_info"l <"cf-options" <"cf-options__list"><"cf-options__grid">>>':"")+("bottom"===l||"both"===l?'<"cf-pagination" lip>':"")+">"},C=(e,t)=>{const l=jQuery("#"+e).closest("#cf-app"),a=l.find(".cf-table"),n=l.find(".cf-options__grid"),r=l.find(".cf-options__list");"grid"===t?(n.addClass("active"),r.removeClass("active"),a.addClass("cf-table-grid"),a.find(".cf-column-thumbnail").length>0&&a.addClass("cf-has-thumbnail")):(r.addClass("active"),n.removeClass("active"),a.removeClass("cf-table-grid"),a.removeClass("cf-has-thumbnail"))},w=(e,t)=>{jQuery("#"+e).closest("#cf-app").find(".cf-title").replaceWith((function(){return jQuery(`<${t}>`,{class:"cf-title"}).html(jQuery(this).html())}))},E=e=>{const t=jQuery("#"+e).closest("#cf-app");t.find(".cf-table-grid .cf-column-thumbnail").length>0?t.find(".cf-table").addClass("cf-has-thumbnail"):t.find(".cf-table").removeClass("cf-has-thumbnail")},S=e=>{jQuery.each(e.aoHeader,(function(e,t){jQuery.each(t,(function(e,t){if(t.cell.ariaLabel){const e=t.cell.ariaLabel.replace(/\s*:\s*/g,": ").trim();jQuery(t.cell).attr("aria-description",e),jQuery(t.cell).removeAttr("aria-label")}}))}))},N=e=>{const t=e.match(/<[^>]+>([^<]+)<\/[^>]+>/);return t?t[1].replace(/\t/g,"").toLowerCase():""},x=(e,t,l)=>{const a=Date.parse(N(e)),n=Date.parse(N(t));switch(l){case"asc":return a<n?-1:a>n?1:0;case"desc":return a<n?1:a>n?-1:0}};function T(e,t){t.image?t.title||t.size||t.updated?(e.find("td:first-child").removeClass("no-margin-bottom"),e.find("td:first-child").addClass("has-margin-bottom"),e.find(".cf-column-last").removeClass("no-margin-top"),e.find(".cf-column-last").addClass("has-margin-top")):t.title||t.size||t.updated||(e.find("td:first-child").removeClass("has-margin-bottom"),e.find("td:first-child").addClass("no-margin-bottom"),e.find(".cf-column-last").removeClass("has-margin-top"),e.find(".cf-column-last").addClass("no-margin-top")):t.image||(t.title||t.size||t.updated)&&(e.find("td:first-child").removeClass("has-margin-bottom"),e.find("td:first-child").addClass("no-margin-bottom"),e.find(".cf-column-last").removeClass("no-margin-top"),e.find(".cf-column-last").addClass("has-margin-top"))}const j=e=>{let t;const l=new Set,a=(e,a)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),l.forEach((l=>l(t,e)))}},n=()=>t,r={setState:a,getState:n,getInitialState:()=>o,subscribe:e=>(l.add(e),()=>l.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}},o=t=e(a,n,r);return r};var z=l(242);const{useDebugValue:D}=a,{useSyncExternalStoreWithSelector:P}=z;let I=!1;const k=e=>e,M=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?j(e):j)(e):e,l=(e,l)=>function(e,t=k,l){l&&!I&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),I=!0);const a=P(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,l);return D(a),a}(t,e,l);return Object.assign(l,t),l};var O=Symbol.for("immer-nothing"),A=Symbol.for("immer-draftable"),L=Symbol.for("immer-state");function Q(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var F=Object.getPrototypeOf;function B(e){return!!e&&!!e[L]}function H(e){return!!e&&(W(e)||Array.isArray(e)||!!e[A]||!!e.constructor?.[A]||Y(e)||K(e))}var R=Object.prototype.constructor.toString();function W(e){if(!e||"object"!=typeof e)return!1;const t=F(e);if(null===t)return!0;const l=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return l===Object||"function"==typeof l&&Function.toString.call(l)===R}function $(e,t){0===U(e)?Reflect.ownKeys(e).forEach((l=>{t(l,e[l],e)})):e.forEach(((l,a)=>t(a,l,e)))}function U(e){const t=e[L];return t?t.type_:Array.isArray(e)?1:Y(e)?2:K(e)?3:0}function V(e,t){return 2===U(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Z(e,t,l){const a=U(e);2===a?e.set(t,l):3===a?e.add(l):e[t]=l}function Y(e){return e instanceof Map}function K(e){return e instanceof Set}function G(e){return e.copy_||e.base_}function J(e,t){if(Y(e))return new Map(e);if(K(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const l=W(e);if(!0===t||"class_only"===t&&!l){const t=Object.getOwnPropertyDescriptors(e);delete t[L];let l=Reflect.ownKeys(t);for(let a=0;a<l.length;a++){const n=l[a],r=t[n];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[n]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]})}return Object.create(F(e),t)}{const t=F(e);if(null!==t&&l)return{...e};const a=Object.create(t);return Object.assign(a,e)}}function X(e,t=!1){return ee(e)||B(e)||!H(e)||(U(e)>1&&(e.set=e.add=e.clear=e.delete=q),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>X(t,!0)))),e}function q(){Q(2)}function ee(e){return Object.isFrozen(e)}var te,le={};function ae(e){const t=le[e];return t||Q(0),t}function ne(){return te}function re(e,t){t&&(ae("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oe(e){ce(e),e.drafts_.forEach(ie),e.drafts_=null}function ce(e){e===te&&(te=e.parent_)}function se(e){return te={drafts_:[],parent_:te,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ie(e){const t=e[L];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function de(e,t){t.unfinalizedDrafts_=t.drafts_.length;const l=t.drafts_[0];return void 0!==e&&e!==l?(l[L].modified_&&(oe(t),Q(4)),H(e)&&(e=ue(t,e),t.parent_||me(t,e)),t.patches_&&ae("Patches").generateReplacementPatches_(l[L].base_,e,t.patches_,t.inversePatches_)):e=ue(t,l,[]),oe(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==O?e:void 0}function ue(e,t,l){if(ee(t))return t;const a=t[L];if(!a)return $(t,((n,r)=>fe(e,a,t,n,r,l))),t;if(a.scope_!==e)return t;if(!a.modified_)return me(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let n=t,r=!1;3===a.type_&&(n=new Set(t),t.clear(),r=!0),$(n,((n,o)=>fe(e,a,t,n,o,l,r))),me(e,t,!1),l&&e.patches_&&ae("Patches").generatePatches_(a,l,e.patches_,e.inversePatches_)}return a.copy_}function fe(e,t,l,a,n,r,o){if(B(n)){const o=ue(e,n,r&&t&&3!==t.type_&&!V(t.assigned_,a)?r.concat(a):void 0);if(Z(l,a,o),!B(o))return;e.canAutoFreeze_=!1}else o&&l.add(n);if(H(n)&&!ee(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ue(e,n),t&&t.scope_.parent_||"symbol"==typeof a||!Object.prototype.propertyIsEnumerable.call(l,a)||me(e,n)}}function me(e,t,l=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&X(t,l)}var pe={get(e,t){if(t===L)return e;const l=G(e);if(!V(l,t))return function(e,t,l){const a=_e(t,l);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}(e,l,t);const a=l[t];return e.finalized_||!H(a)?a:a===ye(e.base_,t)?(be(e),e.copy_[t]=ve(a,e)):a},has:(e,t)=>t in G(e),ownKeys:e=>Reflect.ownKeys(G(e)),set(e,t,l){const a=_e(G(e),t);if(a?.set)return a.set.call(e.draft_,l),!0;if(!e.modified_){const a=ye(G(e),t),o=a?.[L];if(o&&o.base_===l)return e.copy_[t]=l,e.assigned_[t]=!1,!0;if(((n=l)===(r=a)?0!==n||1/n==1/r:n!=n&&r!=r)&&(void 0!==l||V(e.base_,t)))return!0;be(e),he(e)}var n,r;return e.copy_[t]===l&&(void 0!==l||t in e.copy_)||Number.isNaN(l)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=l,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==ye(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,be(e),he(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const l=G(e),a=Reflect.getOwnPropertyDescriptor(l,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:l[t]}:a},defineProperty(){Q(11)},getPrototypeOf:e=>F(e.base_),setPrototypeOf(){Q(12)}},ge={};function ye(e,t){const l=e[L];return(l?G(l):e)[t]}function _e(e,t){if(!(t in e))return;let l=F(e);for(;l;){const e=Object.getOwnPropertyDescriptor(l,t);if(e)return e;l=F(l)}}function he(e){e.modified_||(e.modified_=!0,e.parent_&&he(e.parent_))}function be(e){e.copy_||(e.copy_=J(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function ve(e,t){const l=Y(e)?ae("MapSet").proxyMap_(e,t):K(e)?ae("MapSet").proxySet_(e,t):function(e,t){const l=Array.isArray(e),a={type_:l?1:0,scope_:t?t.scope_:ne(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,r=pe;l&&(n=[a],r=ge);const{revoke:o,proxy:c}=Proxy.revocable(n,r);return a.draft_=c,a.revoke_=o,c}(e,t);return(t?t.scope_:ne()).drafts_.push(l),l}function Ce(e){if(!H(e)||ee(e))return e;const t=e[L];let l;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,l=J(e,t.scope_.immer_.useStrictShallowCopy_)}else l=J(e,!0);return $(l,((e,t)=>{Z(l,e,Ce(t))})),t&&(t.finalized_=!1),l}$(pe,((e,t)=>{ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ge.deleteProperty=function(e,t){return ge.set.call(this,e,t,void 0)},ge.set=function(e,t,l){return pe.set.call(this,e[0],t,l,e[0])};var we=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,l)=>{if("function"==typeof e&&"function"!=typeof t){const l=t;t=e;const a=this;return function(e=l,...n){return a.produce(e,(e=>t.call(this,e,...n)))}}let a;if("function"!=typeof t&&Q(6),void 0!==l&&"function"!=typeof l&&Q(7),H(e)){const n=se(this),r=ve(e,void 0);let o=!0;try{a=t(r),o=!1}finally{o?oe(n):ce(n)}return re(n,l),de(a,n)}if(!e||"object"!=typeof e){if(a=t(e),void 0===a&&(a=e),a===O&&(a=void 0),this.autoFreeze_&&X(a,!0),l){const t=[],n=[];ae("Patches").generateReplacementPatches_(e,a,t,n),l(t,n)}return a}Q(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...l)=>this.produceWithPatches(t,(t=>e(t,...l)));let l,a;return[this.produce(e,t,((e,t)=>{l=e,a=t})),l,a]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;H(e)||Q(8),B(e)&&(B(t=e)||Q(10),e=Ce(t));const l=se(this),a=ve(e,void 0);return a[L].isManual_=!0,ce(l),a}finishDraft(e,t){const l=e&&e[L];l&&l.isManual_||Q(9);const{scope_:a}=l;return re(a,t),de(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let l;for(l=t.length-1;l>=0;l--){const a=t[l];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}l>-1&&(t=t.slice(l+1));const a=ae("Patches").applyPatches_;return B(e)?a(e,t):this.produce(e,(e=>a(e,t)))}},Ee=we.produce;we.produceWithPatches.bind(we),we.setAutoFreeze.bind(we),we.setUseStrictShallowCopy.bind(we),we.applyPatches.bind(we),we.createDraft.bind(we),we.finishDraft.bind(we);const Se=(Te?M(Te):M)((xe=e=>({attributes:{folders:[],libraryIcon:{altText:"icon-folders",display:!0},title:"CatFolders",displayTitle:!0,titleTag:"p",layout:"list",gridColumn:3,searchBarPlacement:"top",layoutIconPlacement:"top",paginationPlacement:"bottom",displayColumns:{image:!1,title:!0,type:!0,size:!0,updated:!0,counter:!0,link:!0},linkTo:"",popupWidth:600,popupHeight:600,limit:10,orderBy:"title",orderType:"ASC",documentIcons:{display:!0}},attachments:{columns:[],files:[],foundPosts:0,maxNumPages:0},setAttribute:t=>{const l=Object.keys(t)[0],a=Object.values(t)[0];e((e=>{e.attributes[l]=a}))},setAllAttributes:t=>{e((e=>{e.attributes=t}))},setAttachments:t=>{e((e=>{e.attachments=t}))}}),(e,t,l)=>(l.setState=(t,l,...a)=>{const n="function"==typeof t?Ee(t):t;return e(n,l,...a)},xe(l.setState,t,l)))),Ne=Se;var xe,Te;const je=function(){const{clientId:e,attributes:t,setAttribute:l}=i(),{folders:r,title:o,titleTag:s,libraryIcon:d,linkTo:u,popupWidth:p,popupHeight:g,limit:h,orderBy:b,orderType:v}=t,C=Ne((e=>e.attachments));return(0,a.createElement)("div",{className:0===r.length||0===C.files.length?"catf-dg-general-settings opacity":"catf-dg-general-settings"},(0,a.createElement)(c.TextControl,{disabled:!1,label:(0,n.__)("Library Title Text","catfolders-document-gallery"),value:o,onChange:t=>{l({title:t}),((e,t)=>{jQuery("#"+e).closest("#cf-app").find(".cf-title span")[0].innerHTML=t})(e,t)},name:"title"}),(0,a.createElement)(c.SelectControl,{disabled:!1,label:(0,n.__)("Library Title Tag","catfolders-document-gallery"),value:s,onChange:t=>{l({titleTag:t}),w(e,t)},options:_,name:"titleTag"}),(0,a.createElement)(c.TextControl,{disabled:!1,label:(0,n.__)("Library Icon Alt Text","catfolders-document-gallery"),value:d.altText,onChange:a=>{l({libraryIcon:{altText:a,display:t.libraryIcon.display}}),((e,t)=>{jQuery("#"+e).closest("#cf-app").find(".cf-title img")[0].setAttribute("alt",t)})(e,a)},name:"libraryIcon[altText]"}),(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Link To","catfolders-document-gallery"),value:u,onChange:e=>{l({linkTo:e})},options:y,name:"linkTo"}),"popup"===u&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.__experimentalNumberControl,{className:"components-base-control",label:(0,n.__)("Popup Width","catfolders-document-gallery"),onChange:e=>{l({popupWidth:Number(e)})},min:100,max:2e3,shiftStep:5,step:1,value:p,name:"popupWidth"})),(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.__experimentalNumberControl,{className:"components-base-control",label:(0,n.__)("Popup Height","catfolders-document-gallery"),onChange:e=>{l({popupHeight:Number(e)})},min:100,max:2e3,shiftStep:5,step:1,value:g,name:"popupHeight"}))),(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.__experimentalNumberControl,{className:"components-base-control",label:(0,n.__)("Limit items","catfolders-document-gallery"),onChange:e=>{l({limit:Number(e)})},min:1,max:200,shiftStep:5,step:1,value:h,name:"limit"})),(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.RadioControl,{label:(0,n.__)("Sort By","catfolders-document-gallery"),onChange:e=>{l({orderBy:e})},options:f,selected:b,name:"orderBy"})),(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.RadioControl,{label:(0,n.__)("Sort Type","catfolders-document-gallery"),onChange:e=>{l({orderType:e})},options:m,selected:v,name:"orderType"})))},ze=function(){const{clientId:e,attributes:t,setAttribute:l,topRef:r,setNotice:o}=i(),{folders:s,libraryIcon:d,displayTitle:f,layout:m,gridColumn:y,displayColumns:_,searchBarPlacement:b,paginationPlacement:v,layoutIconPlacement:w,documentIcons:S}=t,[N,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(()=>{const e=catf_dg.verify_imagick;x(e.status)})()}),[]);const j=Ne((e=>e.attachments));return(0,a.createElement)("div",{className:0===s.length||0===j.files.length?"catf-dg-display-settings opacity":"catf-dg-display-settings"},(0,a.createElement)("h6",{className:"catf-dg-component-label"},(0,n.__)("Library Icon","catfolders-document-gallery")),(0,a.createElement)(c.ToggleControl,{label:d.display?(0,n.__)("Show","catfolders-document-gallery"):(0,n.__)("Hide","catfolders-document-gallery"),checked:d.display,onChange:t=>{l({libraryIcon:{...d,display:t}}),((e,t)=>{const l=jQuery("#"+e).closest("#cf-app").find(".cf-title img");t?l.css("display","block"):l.css("display","none")})(e,t)}}),(0,a.createElement)("input",{type:"hidden",name:"libraryIcon[display]",value:String(d.display)}),(0,a.createElement)("h6",{className:"catf-dg-component-label"},(0,n.__)("Library Title","catfolders-document-gallery")),(0,a.createElement)(c.ToggleControl,{label:f?(0,n.__)("Show","catfolders-document-gallery"):(0,n.__)("Hide","catfolders-document-gallery"),checked:f,onChange:t=>{l({displayTitle:t}),((e,t)=>{const l=jQuery("#"+e).closest("#cf-app").find(".cf-title span");t?l.css("display","block"):l.css("display","none")})(e,t)}}),(0,a.createElement)("input",{type:"hidden",name:"displayTitle",value:String(f)}),(0,a.createElement)("h6",{className:"catf-dg-component-label"},(0,n.__)("Document Icons","catfolders-document-gallery")),(0,a.createElement)(c.ToggleControl,{label:S.display?(0,n.__)("Show","catfolders-document-gallery"):(0,n.__)("Hide","catfolders-document-gallery"),checked:S.display,onChange:t=>{l({documentIcons:{...S,display:t}}),((e,t)=>{const l=jQuery("#"+e).closest("#cf-app").find(".cf-icon");t?l.removeClass("cf-hidden"):l.addClass("cf-hidden"),E(e)})(e,t)}}),(0,a.createElement)("input",{type:"hidden",name:"documentIcons[display]",value:String(S.display)}),(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Search Bar Placement","catfolders-document-gallery"),options:h,value:b,onChange:e=>{l({searchBarPlacement:e})},name:"searchBarPlacement"}),(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Pagination Placement","catfolders-document-gallery"),options:h,value:v,onChange:e=>{l({paginationPlacement:e})},name:"paginationPlacement"}),(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Layout Icon Placement","catfolders-document-gallery"),options:h,value:w,onChange:e=>{l({layoutIconPlacement:e})},name:"layoutIconPlacement"}),(0,a.createElement)(c.__experimentalSpacer,null,(0,a.createElement)(c.RadioControl,{label:(0,n.__)("Layout Display","catfolders-document-gallery"),onChange:t=>{l({layout:t}),C(e,t)},options:u,selected:m,name:"layout"})),"grid"===m&&(0,a.createElement)(c.RangeControl,{label:"Column",allowReset:!0,resetFallbackValue:3,step:1,withInputField:!1,separatorType:"none",trackColor:"green",isShiftStepEnabled:!0,marks:p,railColor:"red",value:y,onChange:e=>{l({gridColumn:e})},min:1,max:6,name:"gridColumn"}),(0,a.createElement)("h6",{className:"catf-dg-component-label"},(0,n.__)("Display Fields","catfolders-document-gallery")),g.map((t=>(0,a.createElement)("div",{className:"cf-dg-display-field-settings",key:t.value},(0,a.createElement)(c.ToggleControl,{label:t.label,checked:_[t.value],onChange:a=>(async(t,a)=>{const n={..._};n[t]="image"===t?(e=>N?(o({imageColumnNotice:!1}),e):(r.current.scrollIntoView({top:0,left:0,behavior:"smooth"}),o({imageColumnNotice:!0}),!1))(a):a,await l({displayColumns:n}),T(jQuery("#"+e).closest("#cf-app"),n),E(e)})(t.value,a)}),(0,a.createElement)("input",{type:"hidden",name:`displayColumns[${t.value}]`,value:String(_[t.value])})))))},De=async(e,t)=>{const l=catfData.apiSettings.rest_url,a=catfData.apiSettings.rest_nonce,r=await fetch(`${l}/${e}`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":a},body:JSON.stringify(t)}).then((e=>{if(e.ok)return e;throw new Error((0,n.__)("Network response was not ok.","catfolders-document-gallery"))}));return await r.json()},Pe=(e,t)=>{let l=[];return e.forEach((e=>{const a="-".repeat(t);l.push({...e,title:a+e.title}),e.children&&e.children.length&&(t++,l=l.concat(Pe(e.children,t)),t--)})),[...l]},Ie=function(){const[e,t]=(0,a.useState)(!0),{treeOptions:l,getTreeOptions:s}=(()=>{const[e,t]=(0,o.useState)([]);return{treeOptions:e,getTreeOptions:async function(){const e=await De("get-all-tree-folders"),l=Pe(e.tree,0).map((e=>({value:e.id,label:e.title})));t(l)}}})(),{attributes:u,setAttribute:f}=i(),{folders:m,libraryType:p,showBreadCrumb:g,isNestedFolders:y,searchScope:_}=u;return(0,a.useEffect)((()=>{(async()=>{await s(),t(!1)})()}),[]),(0,a.createElement)(c.Panel,{className:"catf-dg-shortcode-settings-panel"},(0,a.createElement)(c.PanelBody,{title:"Folders",className:"catf-dg-folders-setting-panel-body"},e?(0,a.createElement)(r,null):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"catf-dg-folders-setting"},(0,a.createElement)(c.SelectControl,{label:(0,n.__)("Library Type","catfolders-document-gallery"),value:p,onChange:e=>{f({libraryType:e}),"hierarchical_folders"==e&&m.length>1&&f({folders:[m[0]]})},name:"libraryType",options:[{value:"single_folder",label:(0,n.__)("Display as a single folder","catfolders-document-gallery")},{value:"hierarchical_folders",label:(0,n.__)("Display as hierarchical folders","catfolders-document-gallery")}]}),"single_folder"==p&&(0,a.createElement)("p",null,(0,n.__)("You can select multiple folders in different levels. All files will be displayed all together in a single list.","catfolders-document-gallery")),"hierarchical_folders"==p&&(0,a.createElement)("p",null,(0,n.__)("You can select only one main folder. Its sub-folders will also be included in the folder tree. Your selected main folder will be the root folder.","catfolders-document-gallery"))),(0,a.createElement)(d,{treeOptions:l}),(0,a.createElement)("div",{className:"catf-dg-folders-setting"},(0,a.createElement)("h3",null,(0,n.__)("Structure Display","catfolders-document-gallery")),(0,a.createElement)(c.ToggleControl,{label:(0,n.__)("Breadcrumb","catfolders-document-gallery"),checked:g,onChange:e=>{f({showBreadCrumb:e})},disabled:"single_folder"==p}),g&&(0,a.createElement)("input",{type:"hidden",name:"showBreadCrumb",value:"1"}),(0,a.createElement)(c.ToggleControl,{label:(0,n.__)("Nested Folders","catfolders-document-gallery"),checked:y,onChange:e=>{f({isNestedFolders:e})},disabled:"single_folder"==p}),y&&(0,a.createElement)("input",{type:"hidden",name:"isNestedFolders",value:"1"})))),(0,a.createElement)(c.PanelBody,{title:"General Options",className:"catf-dg-general-settings-panel-body"},(0,a.createElement)(je,null)),(0,a.createElement)(c.PanelBody,{title:"Display Options",className:"catf-dg-display-settings-panel-body"},(0,a.createElement)(ze,null)))},{Placeholder:ke,Icon:Me}=wp.components,Oe=()=>(0,a.createElement)(ke,{icon:(0,a.createElement)(Me,{icon:"media-document"}),label:(0,n.__)("CatFolders Document Gallery","catfolders-document-gallery"),instructions:(0,n.__)("Select folders to show content here","catfolders-document-gallery")},(0,a.createElement)("div",{style:{backgroundColor:"#e7e7e7",width:"100%",padding:"30px",display:"flex",justifyContent:"center"}},(0,a.createElement)("div",null,(0,n.__)("Please select your folders that you want display","catfolders-document-gallery")))),Ae=e=>{const t=`#table-${e}`,l=(0,o.useRef)(null);return(0,o.useEffect)((()=>{jQuery.extend(jQuery.fn.dataTable.ext.type.order,{"date-sort-desc":(e,t)=>x(e,t,"desc")}),jQuery.extend(jQuery.fn.dataTable.ext.type.order,{"date-sort-asc":(e,t)=>x(e,t,"asc")})}),[]),{createDataTable:function(a,r,o){jQuery.fn.DataTable.isDataTable(t)&&jQuery(t).DataTable().destroy();const{titleTag:c,displayColumns:s,layout:i}=a,d=b(a,o);d.columns=(e=>[{data:"image",render:(e,t,l)=>`<div class="cf-column-thumbnail">${l.image}</div>`,visible:e.image,orderable:!1},{data:"title",render:(e,t,l)=>`<div class='flex'><a href="${l.url}" class="cf-icon icon-${(e=>["doc","jpg","mp4","other","pdf","ppt","wav","xls","zip"].includes(e)?e:["tif","tiff","jpeg","png","bmp","ithmb","gif","eps","raw","cr2","nef","orf","sr2","apng","avif","jfif","pjpeg","pjp","svg","ico","webp","psd","wbmp"].includes(e)?"jpg":["mp3","aac","aif","aifc","aiff","au","flac","m4a","mid","m4b","m4p","m4r","oga","ogg","opus","ra","ram","spx","wm"].includes(e)?"wav":["3gp","3gpp","3gpp2","3g2","asf","avi","dv","dvi","flv","m2t","m4v","mkv","mov","mpeg","mpg","mts","ogv","ogx","rm","rmvb","ts","vob","webm","wm"].includes(e)?"mp4":["pptx","ppthtml","pptm","pptxml","prn","ps","pps","ppsx","pwz","rtf","tab","template","tsv","vdx","vsd","vss","vst","vsx","vtx"].includes(e)?"ppt":["xlsx","csv","wpd","wps","xdp","xdf","xlam","xll","xlr","xlsb","xlsm","xltm","xltx","xps","wbk","wpd","wi"].includes(e)?"xls":["docx","dochtml","docm","docxml","odt","dot","dothtml","dotm","dotx","eps","fdf","key","keynote","kth","mpp","mpt","mpx","mpd"].includes(e)?"doc":["zip","rar","taz","gzip","tar.bz2","tar.gz"].includes(e)?"zip":"other")(l.type)}">${l.title}</a></div>`,visible:e.title},{data:"type",render:(e,t,l)=>`<div class='cf-column-type'>${l.type}</div>`,visible:e.type},{data:"size",render:(e,t,l)=>`<div class='cf-column-size'>${l.size}</div>`,visible:e.size},{data:"modified",render:(t,l,a)=>`<div class="${e.link?"cf-column-modified cf-column-link":"cf-column-modified"}">${a.modified}</div>`,visible:e.updated},{data:"download_count",render:(e,t,l)=>`<div class="cf-download-count">${l.download_count}</div>`,visible:e.counter},{data:"link",render:(e,t,l)=>`<div class='cf-column-last'><span class='cf-updated'><small>Updated</small>${l.modified}</span><a href="${l.link}" class="btn-download"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_1_337)">\n      <path d="M5.30186e-07 8.99044C0.00168761 4.04699 4.03718 0.00393964 8.97357 2.87451e-06C13.9611 -0.00393389 18.0017 4.03631 17.9994 9.02587C17.9978 13.9868 13.9448 18.0073 8.95389 18C4.02312 17.9927 -0.00168655 13.9429 5.30186e-07 8.99044ZM8.0991 11.3176C7.98213 11.2108 7.91465 11.1534 7.85166 11.091C7.53899 10.7811 7.23644 10.46 6.91252 10.1625C6.54586 9.8256 6.01162 9.85034 5.67196 10.1962C5.3351 10.5387 5.30305 11.0662 5.64271 11.4138C6.55317 12.3446 7.47488 13.2646 8.40615 14.1752C8.743 14.5042 9.24856 14.4862 9.6051 14.1707C9.73838 14.0531 9.86041 13.9226 9.98638 13.7967C10.7551 13.0284 11.5289 12.2658 12.2887 11.4886C12.7672 10.9993 12.6199 10.257 12.0041 10.0084C11.6251 9.85541 11.2871 9.95045 11.0042 10.2395C10.6612 10.5905 10.321 10.9448 9.97963 11.2974C9.95376 11.2816 9.92789 11.2665 9.90203 11.2507C9.90203 11.1517 9.90203 11.0527 9.90203 10.9538C9.90203 8.84534 9.89978 6.73749 9.90427 4.62907C9.90484 4.34338 9.84635 4.0858 9.64165 3.8839C9.3616 3.60776 9.02699 3.54084 8.65809 3.68088C8.31842 3.80966 8.10191 4.14091 8.10135 4.54584C8.0991 6.68238 8.10023 8.81835 8.10023 10.9549C8.10023 11.0533 8.10023 11.1523 8.10023 11.3171L8.0991 11.3176Z" fill="currentColor"/>\n      <path d="M8.09912 11.3176C8.09912 11.1528 8.09912 11.0539 8.09912 10.9554C8.09912 8.8189 8.09799 6.68292 8.10024 4.54638C8.10024 4.1409 8.31731 3.81021 8.65698 3.68142C9.02589 3.54138 9.36049 3.60831 9.64055 3.88445C9.84581 4.08634 9.90373 4.34448 9.90317 4.62962C9.89867 6.73804 9.90092 8.84589 9.90092 10.9543C9.90092 11.0533 9.90092 11.1523 9.90092 11.2513C9.92679 11.267 9.95266 11.2822 9.97852 11.2979C10.3199 10.9453 10.6595 10.591 11.0031 10.2401C11.286 9.951 11.624 9.85595 12.003 10.0089C12.6188 10.2575 12.7661 11.0004 12.2876 11.4891C11.5278 12.2658 10.7535 13.0284 9.98527 13.7972C9.8593 13.9232 9.73727 14.0531 9.60399 14.1712C9.24746 14.4867 8.7419 14.5053 8.40504 14.1757C7.47434 13.2652 6.55263 12.3451 5.64161 11.4143C5.30138 11.0668 5.334 10.5393 5.67085 10.1968C6.01108 9.85089 6.54476 9.82614 6.91142 10.163C7.23533 10.4605 7.53788 10.7817 7.85056 11.0915C7.91354 11.154 7.98159 11.2119 8.09799 11.3182L8.09912 11.3176Z" fill="white"/>\n    </g>\n    <defs>\n      <clipPath id="clip0_1_337">\n        <rect width="18" height="18" fill="white"/>\n      </clipPath>\n    </defs>\n  </svg>${(0,n.__)("Download","catfolders-document-gallery")}</a></div>`,visible:e.link,orderable:!1}])(s),d.data=r,r&&(l.current=jQuery(t).DataTable(d),((e,t)=>{const l=jQuery("#"+e).closest("#cf-app");l.find(".cf-options__list").append('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="20" height="4" rx="2" transform="matrix(-1 0 0 1 20 0)" fill="currentColor"/>\n    <rect width="20" height="4" rx="2" transform="matrix(-1 0 0 1 20 8)" fill="currentColor"/>\n    <rect width="20" height="4" rx="2" transform="matrix(-1 0 0 1 20 16)" fill="currentColor"/>\n  </svg>'),l.find(".cf-options__grid").append('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 0C18.8807 0 20 1.11929 20 2.5V6.25C20 7.63071 18.8807 8.75 17.5 8.75H13.75C12.3693 8.75 11.25 7.63071 11.25 6.25V2.5C11.25 1.11929 12.3693 0 13.75 0H17.5Z" fill="currentColor"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.25 0C7.63071 0 8.75 1.11929 8.75 2.5V6.25C8.75 7.63071 7.63071 8.75 6.25 8.75H2.5C1.11929 8.75 0 7.63071 0 6.25V2.5C0 1.11929 1.11929 0 2.5 0H6.25Z" fill="currentColor"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.25 11.25C7.63071 11.25 8.75 12.3693 8.75 13.75V17.5C8.75 18.8807 7.63071 20 6.25 20H2.5C1.11929 20 0 18.8807 0 17.5V13.75C0 12.3693 1.11929 11.25 2.5 11.25H6.25Z" fill="currentColor"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 11.25C18.8807 11.25 20 12.3693 20 13.75V17.5C20 18.8807 18.8807 20 17.5 20H13.75C12.3693 20 11.25 18.8807 11.25 17.5V13.75C11.25 12.3693 12.3693 11.25 13.75 11.25H17.5Z" fill="currentColor"/>\n  </svg>'),C(e,t)})(e,i),w(e,c))},dataTableRef:l}},Le=l(419).A,Qe=function(){const{clientId:e,attributes:t}=i(),l=Ne((e=>e.attachments)),r=Ne((e=>e.setAttachments)),[o,s]=(0,a.useState)(!1),{folders:d,title:u,limit:f,displayColumns:m,searchBarPlacement:p,layoutIconPlacement:g,paginationPlacement:y,orderBy:_,orderType:h}=t,{createDataTable:b,dataTableRef:v}=Ae(e);return(0,a.useEffect)((()=>{(async()=>{const e={folders:null!=d?d:[],currentPage:1,limit:f,displayColumns:m};s(!0);const t=await De("get-attachments-folders",e);s(!1),r(t)})()}),[d,f]),(0,a.useEffect)((()=>{b(t,l.files,l.columns)}),[l,p,y,g]),(0,a.useEffect)((()=>{if(v.current)for(const[e,t]of Object.entries(m))v.current.column(Object.keys(m).findIndex((t=>t===e))).visible(t)}),[m]),(0,a.useEffect)((()=>{if(v.current){const e=Object.keys(m).findIndex((e=>e===_));v.current.order([e,h.toLowerCase()]).draw()}}),[_,h]),(0,a.createElement)(a.Fragment,null,l.foundPosts?(0,a.createElement)(a.Fragment,null,o?(0,a.createElement)(c.Spinner,{className:"catf-dg-spinner"}):(0,a.createElement)(a.Fragment,null),(0,a.createElement)("div",{id:"cf-app",className:o?"cf-app catFolder-addons-block-editor opacity":"cf-app catFolder-addons-block-editor",style:{pointerEvents:"none"}},(0,a.createElement)("div",{"data-layout":t.layout,className:`cf-main ${e}`,id:`${e}`},(0,a.createElement)("div",{className:"container"},(0,a.createElement)("p",{className:"cf-title"},(0,a.createElement)("img",{src:Le,alt:"ico-folders"}),(0,a.createElement)("span",null,u)),(0,a.createElement)("div",{className:"cf-after-heading"},(0,a.createElement)((()=>{if("hierarchical_folders"==t.libraryType){var e=null,n=null;return t.showBreadCrumb&&(e=(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:l.breadcrumbHtml}})),t.isNestedFolders&&(n=(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:l.childrenHtml}})),(0,a.createElement)(a.Fragment,null,e,n)}return null}),null)),(0,a.createElement)("table",{id:`table-${e}`,className:"cf-table",style:{"--grid-column":t.gridColumn}},(0,a.createElement)("thead",null,(0,a.createElement)("tr",null,(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Image","catfolders-document-gallery"))),(0,a.createElement)("th",{className:"cf-title-th"},(0,a.createElement)("span",null,(0,n.__)("Title","catfolders-document-gallery"))),(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Type","catfolders-document-gallery"))),(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Size","catfolders-document-gallery"))),(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Updated","catfolders-document-gallery"))),(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Counter","catfolders-document-gallery"))),(0,a.createElement)("th",null,(0,a.createElement)("span",null,(0,n.__)("Link","catfolders-document-gallery")))))))))):(0,a.createElement)(Oe,null))},Fe=window.ReactDOM,Be=function(){const e=Ne((e=>e.attributes)),t=Ne((e=>e.setAttribute)),l=Ne((e=>e.setAllAttributes)),n=new URLSearchParams(window.location.search).get("post");(0,a.useEffect)((()=>{(async()=>{const e=await De("get-folders-shortcode-data",{shortcodeId:n});l(e)})()}),[]);const r=(0,a.useRef)(null),[o,i]=(0,a.useState)({imageColumnNotice:!1});return(0,a.createElement)(s.Provider,{value:{clientId:"catf-dg-table",attributes:e,setAttribute:t,topRef:r,setNotice:i}},(0,a.createElement)("div",{ref:r}),o.imageColumnNotice&&(0,a.createElement)(c.Notice,{status:"warning",isDismissible:!0,className:"catf-config-notice",onRemove:()=>{i({imageColumnNotice:!1})}},catf_dg.verify_imagick.message,(0,a.createElement)("span",null," ",(0,a.createElement)("a",{href:catf_dg.verify_imagick.navigatePage.url,target:"_blank",rel:"noreferrer"},catf_dg.verify_imagick.navigatePage.content))),(0,a.createElement)(Qe,null),(0,Fe.createPortal)((0,a.createElement)(Ie,null),document.getElementById("catf-dg-settings")))},He=window.wp.domReady;l.n(He)()((()=>{const e=document.getElementById("catf-dg-preview");(0,o.render)((0,a.createElement)(Be,null),e)}))})();